<div class="ui centered grid">
    <div class="sixteen wide column">
        <img class="ui bordered big image img-center" src="../images/oval.svg"
            data-echo="../posts/images/29_12_2021_1.png">
    </div>
</div>

<p style="font-size: 12px; text-align: center; margin-top: 10px;">
    <a href="https://www.meme-arsenal.com/en/create/meme/2728383" target="_blank">meme-arsenal</a>
</p>

<br />

<p class="justify-text stylize-text">
    When working with git, mistakes happen quite often. For instance someone can commit to wrong email :D. Situation
    gets complicated when we find it out after doing push. That commit can be changed. Below example on how to do
    this using <strong>git rebase</strong> and <strong>commit</strong> with <strong>amend</strong> flag. Of course
    there are other ways of solving that (e.g. inserting commands directly under commit(s) we want to change while
    edit rebase config) but that one came out to be hassle-free and easy to control for me ¯\_(ツ )_/¯
</p>

<ol class="stylize-text">
    <li>
        Move onto the branch whose commits you want to change.
    </li>

    <li>
        Check on how big <strong>Z (Z = 1, 2, ..., n + 1)</strong> value you need to access that commit(s).
    </li>

    <li>
        For given <strong>Z</strong> execute command:
        {% highlight bash linenos %} git rebase -i HEAD~Z {% endhighlight %}
    </li>

    <li>
        You will get last <strong>Z</strong> commit(s) in editor.
    </li>

    <li>
        Open remote repository and go to the same branch to display list of commits.
    </li>

    <li>
        Compare commit(s) identifiers. Change <strong>pick</strong> to <strong>edit</strong> for commit(s) that
        you want to update (in vi editor click <key>A</key> to turn on INSERT mode).
    </li>

    <li>
        Exit INSERT mode (in vi click <key>Escape</key> to do so).
    </li>

    <li>
        Save file and exit editor (in vi type <strong>:wq!</strong> and click <key>Enter</key>).
    </li>

    <li>
        <div>
            Modify <strong>--author</strong> value in command below and execute these:
        </div>

        <div>
            {% highlight bash linenos %} git commit --amend --author="Fikcyjny Kowalski <fikcyjny@example.com>" {%
                endhighlight %}
        </div>

        <div>
            {% highlight bash linenos %} git rebase --continue {% endhighlight %}
        </div>

        <div>
            <strong>until you see:</strong> <em>Successfully rebased and updated...</em>

            <br /><br />

            In the meantime conflicts may interrupt rebase process (if they occured to the indicated commit) and
            screens asking for filling in comments for commits that are being changed. Pay attention to the
            terminal messages to complete rebase process.
        </div>
    </li>

    <li>
        <div>
            Execute command:
        </div>

        <div>
            {% highlight bash linenos %} git push -f {% endhighlight %}
        </div>

        <div class="justify-text">
            Note: If changes refer to closed, unmerged PR, it's worth to open it again before pushing rebase results
            or in other case you will be forced to do extra
            <a href="https://gist.github.com/robertpainsi/2c42c15f1ce6dab03a0675348edd4e2c" target="_blank">
                procedure
            </a>
            to be able to open PR again to see these changes to take effect into already logged PR.
        </div>
    </li>

    <li>
        (∩ ͡° ͜ʖ ͡°)⊃━☆ﾟ. *
    </li>

    <li>
        Done!
    </li>
</ol>

<hr class="mt-5" />

<p class="justify-text stylize-text">
    Sources:
<div>
    <ul>
        <li>
            <a href="http://treeindev.net/article/git-change-commit-name" target="_blank">
                Git - change commit name
            </a>
        </li>

        <li>
            <a href="https://gist.github.com/robertpainsi/2c42c15f1ce6dab03a0675348edd4e2c" target="_blank">
                How to reopen a pull-request after a force-push?
            </a>
        </li>
    </ul>
</div>
</p>