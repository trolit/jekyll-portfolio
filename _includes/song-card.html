{% assign lastAuthor = include.page.author.last %}
{% assign authors = '' %}

{% for author in include.page.author %}
  {% if author != lastAuthor %}
    {% assign authors = authors | append: author | append: ', ' %}
  {% else %}
    {% assign authors = authors | append: author %}
  {% endif %} 
{% endfor %}

<div class="grey card mw-150 mysong" authors="{{ authors }}" genre="{{ include.page.genre }}">
  <div class="content">
    <span class="header font-poppins">
      {{ authors }}
    </span>

    <div class="subheader font-poppins">
      <div>
        <em>
          {{ include.page.subtitle }}
        </em>
      </div>

      <div>
        {% case include.page.genre %}
          {% when "alternative" %}
            {% assign labelColor = 'blue' %}
          {% when "soundtrack" %}
            {% assign labelColor = 'teal' %}
          {% when "hard rock" %}
            {% assign labelColor = 'brown' %}
          {% when "country" %}
            {% assign labelColor = 'orange' %}
          {% when "rock" %}
            {% assign labelColor = 'green' %}
          {% when "orchestral" %}
            {% assign labelColor = 'violet' %}
          {% when "EDM" %}
            {% assign labelColor = 'pink' %}
          {% when "rap" %}
            {% assign labelColor = 'red' %}
        {% endcase %}

        <span class="ui mini {{ labelColor }} label">
          {{ include.page.genre }}
        </span>
      </div>
    </div>
  </div>

  <div class="extra content">
    <div class="ui tiny labels center aligned font-poppins">
      <a href="https://www.youtube.com/watch?v={{ include.page.youtubeId }}" target="_blank">
        <span class="iconify" data-icon="ph:youtube-logo"></span>
      </a>
    </div>
  </div>

</div>